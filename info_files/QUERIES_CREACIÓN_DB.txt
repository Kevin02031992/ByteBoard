CREATE DATABASE IF NOT EXISTS db_byteboard;
USE db_byteboard;

CREATE TABLE IF NOT EXISTS user (
    -- ID principal del usuario
    user_id VARCHAR(10) PRIMARY KEY,

    -- Información personal
    user_identification VARCHAR(20) NOT NULL,
    user_name VARCHAR(50) NOT NULL,
    user_companyMail VARCHAR(100) NOT NULL,
    user_personalMail VARCHAR(100),
    user_phone1 VARCHAR(10) NOT NULL,
    user_phone2 VARCHAR(10),
    user_addres VARCHAR(150),
    user_birthday DATE NOT NULL,
    user_picture VARCHAR(200),

    -- Contraseñas
    user_password VARCHAR(300) NOT NULL,
    user_password1 VARCHAR(300),
    user_password2 VARCHAR(300),
    user_password3 VARCHAR(300),
    user_passwordType TINYINT NOT NULL CHECK (user_passwordType IN (1, 2, 3, 4)),
    user_passwordDays INT NOT NULL,
    user_passwordTries INT NOT NULL DEFAULT 0,

    -- Información de la empresa
    user_vacationDays INT NOT NULL DEFAULT 0,
    user_lastConection DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    user_star DATE NOT NULL,
    user_end DATE,
    user_state INT NOT NULL CHECK (user_state IN (1, 2, 3)),

    -- Auditoría
    user_creationDate DATE NOT NULL,
    user_creater VARCHAR(10) NOT NULL,
    user_updateDate DATE NOT NULL,
    user_updater VARCHAR(10) NOT NULL,
    user_condition BOOLEAN NOT NULL DEFAULT TRUE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
